<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FareFinder</title>
    <link rel="stylesheet" href="/index.css">
</head>
<body>

  <div class="navbar">
    <a href="#home">Home</a>
    <a href="#prices-section">Compare Price</a>
    <a href="#about">About Us</a>
    <a href="#contact">Contact</a>
</div>

   
    <video autoplay muted loop id="background-video">
        <source src="/images/vids/World map.mp4" type="video/mp4">
        </video>

    

    
    <div class="content">
        <h1>FareFinder</h1>
        <a href="#prices-section">
          <button class="button-85" role="button">Explore Prices</button>
        </a>
         </div>
         <section id = "home">
         <div class="second-page ">
          <p class="p1">
            Find Your Perfect Journey
          </p>
        </section>

        <section id = "prices-section" >
            
            <p class="p2">
                Compare prices across multiple transportation options to get the best deals on your travel
              </p>
              <!DOCTYPE html>
<html>
  <head>
    <title>FareFinder - Distance Calculator (TomTom API)</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        text-align: center;
        margin: 0;
        padding: 0;
      }
      #map {
        height: 400px;
        width: 100%;
      }
      .container {
        margin-top: 20px;
      }
      input, button {
        padding: 10px;
        margin: 5px;
        font-size: 16px;
      }
      #result {
        margin-top: 15px;
        font-size: 18px;
        font-weight: bold;
        color: white;
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); 
}
      
    </style>
    <!-- Load TomTom Maps SDK -->
    <link
      rel="stylesheet"
      type="text/css"
      href="https://api.tomtom.com/maps-sdk-for-web/cdn/6.x/6.25.0/maps/maps.css"
    />
    <script src="https://api.tomtom.com/maps-sdk-for-web/cdn/6.x/6.25.0/maps/maps-web.min.js"></script>
  </head>
  <body>
    <h1></h1>
    <div id="map"></div>
    <div class="container">
      <input id="origin" type="text" placeholder="Enter starting location" />
      <input id="destination" type="text" placeholder="Enter destination" />
      <button id="calculate">Calculate Distance</button>      <div id="result">
        <p id="distance"></p>
        <p id="duration"></p>
      </div>
      <div id="fare-results" class="hidden">
        <table class="fare-table">
            <tr id="fare-row">
                <!-- Uber Column -->
                <td>
                    <img src="/images/vids/uber.png" alt="Uber Logo" class="fare-logo">
                    <p>Uber</p>
                    <p class="fare-price">₹0.00</p>
                </td>
                <!-- Ola Column -->
                <td>
                    <img src="/images/vids/ola.png" alt="Ola Logo" class="fare-logo">
                    <p>Ola</p>
                    <p class="fare-price">₹0.00</p>
                </td>
                <!-- Rapido Column -->
                <td>
                    <img src="/images/vids/rapido.jpeg" alt="Rapido Logo" class="fare-logo">
                    <p>Rapido</p>
                    <p class="fare-price">₹0.00</p>
                </td>
            </tr>
        </table>
    </div>
    </div>

    <script>
      // TomTom API Key
      const apiKey = "0jU79DjrYu5k3GYzUtR5FDAeBRLHlJHr";

      // Initialize the map
      const map = tt.map({
        key: apiKey, // Your TomTom API key
        container: "map", // Div ID where the map will be rendered
        center: [78.9629, 20.5937], // Centered in India
        zoom: 5, // Initial zoom level
      });

      // Function to get latitude and longitude using Geocoding API
      function getCoordinates(location) {
        const geocodeUrl = `https://api.tomtom.com/search/2/geocode/${encodeURIComponent(location)}.json?key=${apiKey}`;
        return fetch(geocodeUrl)
          .then((response) => response.json())
          .then((data) => {
            if (data.results && data.results.length > 0) {
              const position = data.results[0].position;
              return [position.lat, position.lon];
            } else {
              throw new Error(`Location not found: ${location}`);
            }
          });
      }

      // Function to calculate distance using TomTom Routing API
      function calculateDistance(originCoords, destinationCoords) {
        const routeUrl = `https://api.tomtom.com/routing/1/calculateRoute/${originCoords.join(',')}:${destinationCoords.join(',')}/json?key=${apiKey}`;

        fetch(routeUrl)
          .then((response) => response.json())
          .then((data) => {
            if (data.routes && data.routes.length > 0) {
              const route = data.routes[0];
              const distance = route.summary.lengthInMeters / 1000; // Convert meters to kilometers
              const duration = route.summary.travelTimeInSeconds / 60; // Convert seconds to minutes

              document.getElementById("distance").innerText = `Distance: ${distance.toFixed(2)} km`;
              document.getElementById("duration").innerText = `Duration: ${duration.toFixed(2)} minutes`;
            } else {
              alert("Could not calculate distance. Please check the locations and try again.");
            }
          })
          .catch((error) => {
            console.error("Error:", error);
            alert("An error occurred while calculating distance.");
          });
      }

      // Event listener for the Calculate button
      document.getElementById("calculate").addEventListener("click", async () => {
        const origin = document.getElementById("origin").value;
        const destination = document.getElementById("destination").value;

        if (!origin || !destination) {
          alert("Please enter both origin and destination!");
          return;
        }

        try {
          // Get coordinates for origin and destination
          const originCoords = await getCoordinates(origin);
          const destinationCoords = await getCoordinates(destination);

          // Calculate distance
          calculateDistance(originCoords, destinationCoords);
        } catch (error) {
          console.error("Error:", error);
          alert(error.message);
        }
      });
    </script>
  </body>
</html>
        
        </section>

         <section id = "about">
            <div class="responsive-container-block bigContainer">
                <div class="responsive-container-block Container">
                  <p class="text-blk heading">
                    About Us
                  </p>
                  <p class="text-blk subHeading">
                    Welcome to our platform—a dynamic hub designed to simplify your choices and maximize your savings. By analyzing real-time data, we compare price ranges across various service apps for booking taxi and provide you with personalized recommendations. With us, you’ll always find the most affordable option at your fingertips.
                  </p>
                  <div class="social-icons-container">
                    
                    <a href = "https://mail.google.com/mail/"class="social-icon">
                      <img class="socialIcon image-block" src="/images/vids/gmaillogo.png">
                    </a>
                    <a href="https://github.com/ArnavVasishtSharma/FareFinder" class="social-icon">
                      <img class="githubimg " src="/images/vids/githublogo.png">
                    </a>
                    
                  </div>
                </div>
              </div>
         </section>
         
         

         <section id = "contact" >
      <div class="landing_page">
        <div class="responsive-container-block big-container">
          <img class="bg-img" id="iq5bf" src="https://workik-widget-assets.s3.amazonaws.com/widget-assets/images/clothes-bg.png">
          <div class="responsive-container-block container">
            <div class="responsive-cell-block wk-desk-6 wk-ipadp-6 wk-tab-12 wk-mobile-12 left-one">
              <div class="content-box">
                <p class="text-blk section-head">
                  Your Budget , Your Fare  We Compare!
                </p>
                <p class="text-blk section-subhead">
                    We’re here to help you find the best fares and make your ride smarter. If you have any questions, suggestions, or need assistance, feel free to reach out to our team. We're always ready to assist you!

                    How to Reach Us:
                </p>
                <div class="icons-container">
                  
                  <a href = "https://mail.google.com/mail/"class="share-icon">
                    <img class="googleimg" src="/images/vids/gmaillogo.png">
                  </a>
                  <a href="https://github.com/ArnavVasishtSharma/FareFinder"class="share-icon">
                    <img class="githubimg" src="/images/vids/githublogo.png">
                  </a>
                  
                </div>
              </div>
            </div>
            <div class="responsive-cell-block wk-ipadp-6 wk-tab-12 wk-mobile-12 wk-desk-6 right-one" id="i1zj">
              <form class="form-box">
                <div class="container-block form-wrapper">
                  <p class="text-blk contactus-head">
                    <a class="link" href="">
                    </a>
                    Get a quote
                  </p>
                  <p class="text-blk contactus-subhead">
                    We will get back to you in 24 hours
                  </p>
                  <div class="responsive-container-block">
                    <div class="responsive-cell-block wk-tab-12 wk-mobile-12 wk-desk-12 wk-ipadp-12" id="i10mt-7">
                      <input class="input" id="ijowk-7" name="FirstName" placeholder="First Name">
                    </div>
                    <div class="responsive-cell-block wk-tab-12 wk-mobile-12 wk-desk-12 wk-ipadp-12" id="i1ro7">
                      <input class="input" id="indfi-5" name="Last Name" placeholder="Last Name">
                    </div>
                    <div class="responsive-cell-block wk-tab-12 wk-mobile-12 wk-desk-6 wk-ipadp-6 emial" id="ityct">
                      <input class="input" id="ipmgh-7" name="Email" placeholder="Email">
                    </div>
                    <div class="responsive-cell-block wk-desk-6 wk-ipadp-6 wk-tab-12 wk-mobile-12">
                      <input class="input" id="imgis-6" name="PhoneNumber" placeholder="Phone Number">
                    </div>
                    <div class="responsive-cell-block wk-tab-12 wk-mobile-12 wk-desk-12 wk-ipadp-12" id="i634i-7">
                      <textarea aria-placeholder="Type message here" class="textinput" id="i5vyy-7" placeholder="Type message here"></textarea>
                    </div>
                  </div>
                  <button class="submit-btn">
                    Get quote
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </section>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/ScrollTrigger.min.js"></script>
    <script src="index.js"></script>
        

</body>
</html>
